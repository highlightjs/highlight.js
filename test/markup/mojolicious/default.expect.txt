<span class="language-perl">% layout <span class="hljs-string">&#x27;bootstrap&#x27;</span>;</span><span class="language-xml">
</span><span class="language-perl">% title <span class="hljs-string">&quot;Import your subs&quot;</span>;</span><span class="language-xml">
</span><span class="language-perl">%= form_for <span class="hljs-string">&#x27;/settings/import&#x27;</span> =&gt; (<span class="hljs-string">method =&gt;</span> <span class="hljs-string">&#x27;post&#x27;</span>, <span class="hljs-string">enctype =&gt;</span> <span class="hljs-string">&#x27;multipart/form-data&#x27;</span>) =&gt; begin</span><span class="language-xml">
</span><span class="language-perl">     %= file_field <span class="hljs-string">&#x27;opmlfile&#x27;</span> =&gt; <span class="hljs-string">multiple =&gt;</span> <span class="hljs-string">&#x27;true&#x27;</span></span><span class="language-xml">
</span><span class="language-perl">     %= submit_button <span class="hljs-string">&#x27;Import&#x27;</span>, <span class="hljs-string">&#x27;class&#x27;</span> =&gt; <span class="hljs-string">&#x27;btn&#x27;</span></span><span class="language-xml">
</span><span class="language-perl">% end</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
</span><span class="language-perl">% <span class="hljs-keyword">if</span> (<span class="hljs-variable">$subs</span>) {</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">dl</span>&gt;</span>
</span><span class="language-perl">% <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> <span class="hljs-variable">$item</span> (<span class="hljs-variable">@$</span>subs) {</span><span class="language-xml">
</span><span class="language-perl">% <span class="hljs-keyword">my</span> (<span class="hljs-variable">$dir</span>, <span class="hljs-variable">$align</span>) = (<span class="hljs-variable">$item</span>-&gt;{rtl}) ? (<span class="hljs-string">&#x27;rtl&#x27;</span>, <span class="hljs-string">&#x27;right&#x27;</span>) : (<span class="hljs-string">&#x27;ltr&#x27;</span>, <span class="hljs-string">&#x27;left&#x27;</span>);</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">dt</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;&lt;%=</span></span></span><span class="language-perl"> <span class="hljs-variable">$align</span> </span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">%&gt;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&lt;%=</span></span></span><span class="language-perl"> <span class="hljs-variable">$item</span>-&gt;{<span class="hljs-string">&#x27;xmlUrl&#x27;</span>} </span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">%&gt;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;icon-rss&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> rss<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">&quot;&lt;%=</span></span></span><span class="language-perl"> <span class="hljs-variable">$dir</span> </span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">%&gt;&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&lt;%=</span></span></span><span class="language-perl"> <span class="hljs-variable">$item</span>-&gt;{htmlUrl} </span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">%&gt;&quot;</span>&gt;</span>&lt;%==</span><span class="language-perl"> <span class="hljs-variable">$item</span>-&gt;{title} </span><span class="language-xml">%&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Categories<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
</span><span class="language-perl">%= <span class="hljs-keyword">join</span> <span class="hljs-string">q{, }</span>, <span class="hljs-keyword">sort</span> @{ <span class="hljs-variable">$item</span>-&gt;{categories} || [] };</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dl</span>&gt;</span>
</span><span class="language-perl">% }</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</span>
